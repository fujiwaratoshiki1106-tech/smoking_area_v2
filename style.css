/* ===== ベース・配色 ===== */
:root{
  --bg1:#f0f2f5; --bg2:#c9cdd4;
  --card:#ffffff; --ink:#1f2937;
  --muted:#4b5563; --line:#e5e7eb;
  --accent:#6b7a93; /* 落ち着いたブルーグレー */
  --accent-strong:#2f3d56;
  --control-bg:#0f1420; --control-line:#2a3140; --control-focus:#44506a;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: system-ui, -apple-system, "Segoe UI", sans-serif;
  color: var(--ink);
  background: linear-gradient(135deg,var(--bg1),var(--bg2));
  -webkit-font-smoothing: antialiased;
}

/* ===== タイトル ===== */
.appbar{
  position: sticky; top:0; z-index:10;
  padding: 14px 16px;
  background: rgba(240,242,245,.75);
  backdrop-filter: blur(6px);
  border-bottom: 1px solid #d8dbe2;
}
.appbar h1{
  margin:0;
  font-size: 1.9rem;       /* 読みやすく大きめ */
  font-weight: 800;
  color: #2b313c;          /* 単色で大人っぽく */
  letter-spacing: .3px;
}

.container{ padding: 14px 12px 80px; max-width: 960px; margin: 0 auto; }

/* ===== コントロール（カテゴリ / 喫煙タイプ / 検索） ===== */
.controls{ margin: 12px 0 10px; }
.controls .row{ display:flex; gap:10px; }

.ctrl{ display:block; flex:1; min-width: 0; }
.ctrl-label{
  display:block; font-size:13px; color:#667085; margin: 0 2px 8px;
}

/* “ゆとりのある”サイズ感（スマホでも押しやすい） */
select, .search{
  width:100%; appearance:none;
  padding: 14px 16px;
  border-radius: 14px;
  border:1px solid var(--control-line);
  background: var(--control-bg);
  color: #e7ecf7;
  font-size: 16px;          /* ← 小さくなりすぎない */
  box-shadow: inset 0 1px 0 rgba(255,255,255,.04), 0 10px 28px rgba(0,0,0,.22);
}
select:focus, .search:focus{
  outline:none; border-color: var(--control-focus);
  box-shadow: 0 0 0 3px rgba(68,80,106,.35);
}

/* 検索クリアボタン */
.search-wrap{ position: relative; }
.clear-btn{
  position:absolute; right:10px; top:50%; transform: translateY(-50%);
  width:34px; height:34px; border-radius:50%;
  border:1px solid #3a455a; background:#141a26; color:#d7deec;
  display:flex; align-items:center; justify-content:center;
  font-size:18px; line-height:1; cursor:pointer;
}
.clear-btn:hover{ background:#1a2130; }

/* ===== 件数表示 ===== */
.status{ font-size:13px; color:#6b7280; margin: 8px 2px; }

/* ===== 店舗リスト ===== */
.store-list{
  display:grid; gap:12px;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
}

/* ===== 店舗カード（高さ統一・余白はキープ） =====
   - 最低高さを設定して“コンテナサイズを統一”
   - Flexで最下段リンクを下寄せ → ビジュアルの揺れを抑制
   - タイトルは2行までに制限して差を小さく */
.store-card{
  position: relative;
  display:flex; flex-direction: column;
  gap: 8px;
  background: var(--card); color: var(--ink);
  border-radius: 16px;
  border: 1px solid var(--line);
  padding: 16px;
  box-shadow: 0 8px 24px rgba(0,0,0,.10);
  transition: transform .18s ease, box-shadow .18s ease;
  max-width: 520px;
  margin: 0 auto;

  /* ★ 高さ統一の要（必要に応じて数字は微調整） */
  min-height: 260px;
}
.store-card:hover{ transform: translateY(-2px); box-shadow: 0 12px 30px rgba(0,0,0,.14); }

.store-card h3{
  margin:0 0 4px;
  font-size: 17px; font-weight: 800; color:#101828;
  line-height: 1.35;
  display:-webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical;
  overflow: hidden;  /* 長すぎる店名で高さが暴れないように */
}

/* 喫煙ラベル（右上固定） */
.smoking-label{
  position:absolute; top:12px; right:12px;
  font-size: 12px; padding: 4px 10px; border-radius:999px;
  background:#0f1420; color:#e8ecf4; border:1px solid #2a3140;
}

/* 本文 */
.store-card p{ margin: 2px 0; color:#344054; font-size: 14px; }

/* リンクをカード下部に寄せる（高さ統一を助ける） */
.store-card p:last-of-type{ margin-top: auto; }

.store-card a{
  color: var(--accent-strong);
  font-weight: 700; text-decoration: none;
  border-bottom: 1px dashed var(--accent-strong);
}
.store-card a:hover{ text-decoration: underline; }

/* ===== バッジ ===== */
.badges{ display:flex; flex-wrap:wrap; gap:6px; margin:6px 0 8px; }
.badge{
  font-size:12px; padding:4px 10px; border-radius:999px;
  background:#eef2f7; color:#1f2937; border:1px solid #d7dce3;
}
.badge-open{ background:#e6f6ec; color:#0b5d38; border-color:#bfe2cd; }

/* ===== アニメーション ===== */
.fade-in{ opacity:0; transform:translateY(8px); animation:fadeUp .25s ease forwards }
@keyframes fadeUp{ to{ opacity:1; transform:translateY(0) } }

/* ===== スマホ最適化 ===== */
@media (max-width: 600px){
  .container{ padding: 12px 10px 84px; }

  /* コントロール：さらにわかりやすいサイズに */
  .controls .row{ gap:10px; }
  .ctrl-label{ font-size:14px; }
  select, .search{ font-size:17px; padding: 15px 16px; border-radius: 16px; }

  .clear-btn{ width:36px; height:36px; font-size:18px; }

  /* カードの左右余白は確保しつつ、高さは少し下駄を履かせる */
  .store-card{ padding: 16px; max-width: 92%; min-height: 270px; }
  .store-card h3{ font-size: 18px; }
  .status{ font-size: 14px; }
}

/* ===== タブレット以上で適度に引き締め ===== */
@media (min-width: 900px){
  .appbar h1{ font-size: 2.0rem; }
  .store-list{ gap:14px; }
  .store-card{ min-height: 250px; }
}
